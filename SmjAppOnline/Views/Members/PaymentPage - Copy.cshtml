@*https://www.anycodings.com/1questions/3673786/paytm-payment-integration-in-web-sites-using-aspnet-mvc-5*@
@*https://stackoverflow.com/questions/56525425/paytm-payment-integration-in-web-sites-using-asp-net-mvc-5*@

@*@Html.Raw(ViewBag.outputHtml)*@
@*Response.WriteAsync(@Html.Raw(ViewBag.outputHtml));*@
<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0" />
<script type="application/javascript" src="https://developer.paytm.com/demo//static/js/jquery.min.js"></script>
<link href="https://developer.paytm.com/demo//static/css/style.css?v=1.9" rel="stylesheet" />
<script type="application/javascript" src="https://securegw-stage.paytm.in/merchantpgpui/checkoutjs/merchants/XXjGJp79519699543840"></script>

<script type="application/javascript" crossorigin="anonymous" src="{HOST}/merchantpgpui/checkoutjs/merchants/XXjGJp79519699543840.js" onload="onScriptLoad();"> </script>
<script>
    function onScriptLoad() {
        var config = {
            "root": "",
            "flow": "DEFAULT",
            "data": {
                "orderId": "", /* update order id */
                "token": "", /* update token value */
                "tokenType": "TXN_TOKEN",
                "amount": "" /* update amount */fds
            },
            "handler": {
                "notifyMerchant": function (eventName, data) {
                    console.log("notifyMerchant handler function called");
                    console.log("eventName => ", eventName);
                    console.log("data => ", data);
                }
            }
        };

        if (window.Paytm && window.Paytm.CheckoutJS) {
            window.Paytm.CheckoutJS.onLoad(function excecuteAfterCompleteLoad() {
                // initialze configuration using init method
                window.Paytm.CheckoutJS.init(config).then(function onSuccess() {
                    // after successfully updating configuration, invoke JS Checkout
                    window.Paytm.CheckoutJS.invoke();
                }).catch(function onError(error) {
                    console.log("error => ", error);
                });
            });
        }
    }
</script>